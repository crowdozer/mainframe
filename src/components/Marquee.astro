---
interface Props {
	pausable?: boolean
}

const { pausable = false } = Astro.props

const id = Math.random().toString(36)
---

<marquee {id} class="line-clamp-1 whitespace-nowrap">
	<slot />
</marquee>

<script define:vars={{ pausable, id }}>
	;(() => {
		const marquee = document.getElementById(id)

		if (pausable) {
			marquee.addEventListener('mouseenter', function () {
				marquee.stop()
			})

			marquee.addEventListener('mouseleave', function () {
				marquee.start()
			})
		}
	})()
</script>
