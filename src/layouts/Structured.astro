---
import Basic from './Basic.astro'
import Header from '@c/LayoutHelpers/Header.astro'
import Footer from '@c/LayoutHelpers/Footer.astro'
import Sidebar from '@c/Sidebar/Sidebar.astro'
import Card from '@c/Card.astro'
import Chat from '@c/Chat/Chat.astro'

interface Props {
	title?: string
	header?: boolean
	footer?: boolean
}

const { title = '', header = true, footer = true } = Astro.props
---

<Basic {title}>
	<div class="mx-auto max-w-[900px] bg-neutral-950/50 lg:mb-32 lg:mt-16">
		<div
			class="flex h-full flex-col border-dotted border-neutral-ui-highlight lg:border"
		>
			{header && <Header />}

			<div class="grow">
				<div class="grid h-full w-full gap-4 p-2 lg:grid-cols-[1fr_3fr]">
					<Sidebar />
					<main class="contents">
						<div class="mb-32 space-y-4 lg:mb-0">
							<slot />

							<Card padding="p-4 px-6">
								<div class="space-y-4">
									<Chat />
								</div>
							</Card>
						</div>
					</main>
				</div>
			</div>

			{footer && <Footer />}
		</div>
	</div>
</Basic>
